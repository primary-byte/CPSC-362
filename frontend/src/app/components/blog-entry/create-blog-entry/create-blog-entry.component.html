<head>
    <title> TheDocs | Create Post</title>
</head>
    <main>
        <mat-card class="container">
            <form [formGroup]="form">
                    <div class="upload">
                        <mat-card class="post_pic">
                            <mat-card-content class="things">
                                <img *ngIf="form.get('headerImage').value"
                                    src="{{origin}}/api/blog-entries/image/{{form.get('headerImage').value}}">
                                <ul>
                                    <li>
                                        <mat-progress-bar [value]="file.progress"></mat-progress-bar>
                                    </li>
                                </ul>
                                <mat-card-actions>
                                    <button mat-button color="warn" (click)="onClick()" class="upload_button">
                                        <small> Upload Image</small>
                                    </button>
                                </mat-card-actions>
                            </mat-card-content>
                        </mat-card>
                        <input type="file" #fileUpload id="fileUpload" name="fileUpload" accept="image/*"
                            style="display: none;">
                    </div>
                    <div class="information">
                        <mat-form-field>
                            <input matInput placeholder="Id" formControlName="id">
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput placeholder="Title" formControlName="title">
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput placeholder="Description" formControlName="description">
                        </mat-form-field>
                        <div class="markdown">
                        <mat-form-field>
                            <textarea matInput rows="15" placeholder="Enter Markdown...." class="variable-textarea"
                                formControlName="body"></textarea>
                        </mat-form-field>
                        <markdown class="variable-binding" style="border-style:dotted;"
                            [data]="form.get('body').value"></markdown>
                        </div>
                    </div>
                    <button mat-flat-button color="primary" [disabled]="!form.valid" type="submit" (click)="post()">Add Blog Entry</button>
        </form>
        </mat-card>
    </main>
    <footer>
        <h4>Copyright &copy; CSUF Software Group <br>
            This website is intended for CSUF students to use</h4>
    </footer>